const feed_cards=document.querySelector("#feed_cards"),API_URL="http://127.0.0.1:5000/home",API_URL_RECEITA="http://127.0.0.1:5000/postagem/receita";function show_cards(e){feed_cards.innerHTML="",e.forEach((a=>{2==e.length&&a==e[1]?feed_cards.innerHTML+=`<div class="feed_card feed_card_2 d-flex flex-column align-items-center" data-usuario="${a.usuario_id}">\n                <div>\n                    <a href="./outro-perfil.html" class="post_user d-flex align-items-center">\n                        <img src="data:image/png;base64,${a.usuario_base64}" alt="perfil de ${a.usuario}">\n                        <p class="ps-3">@${a.usuario}</p>\n                    </a>\n                    <div class="d-flex align-items-center align-self-center my-2 post_receita">\n                        <img src="data:image/png;base64,${a.postagem_base64}" alt="postagem de ${a.usuario}" class="lazy">\n                    </div>\n                    <div class="post_info d-flex justify-content-between align-items-center mb-5">\n                        <p class="p-2">${a.categoria}</p>\n                        <button class="btn_receita" data-postagem="${a.postagem_id}">\n                            <img src="../assets/icon_receita.png" alt="botao para ver receita">\n                        </button>\n                    </div>\n                </div>\n            </div>\n            `:feed_cards.innerHTML+=`<div class="feed_card d-flex flex-column align-items-center" data-usuario="${a.usuario_id}">\n                <div>\n                    <a href="./outro-perfil.html" class="post_user d-flex align-items-center">\n                        <img src="data:image/png;base64,${a.usuario_base64}" alt="perfil de ${a.usuario}">\n                        <p class="ps-3">@${a.usuario}</p>\n                    </a>\n                    <div class="d-flex align-items-center align-self-center my-2 post_receita">\n                        <img src="data:image/png;base64,${a.postagem_base64}" alt="postagem de ${a.usuario}" class="lazy">\n                    </div>\n                    <div class="post_info d-flex justify-content-between align-items-center mb-5">\n                        <p class="p-2">${a.categoria}</p>\n                        <button class="btn_receita" data-postagem="${a.postagem_id}">\n                            <img src="../assets/icon_receita.png" alt="botao para ver receita">\n                        </button>\n                    </div>\n                </div>\n            </div>\n            `}))}function navegar_perfil(e){e.forEach((e=>{e.addEventListener("click",(a=>{e.dataset.usuario==sessionStorage.getItem("usuario")&&a.target==e.firstChild?(a.preventDefault(),window.location.href="perfil.html"):sessionStorage.setItem("usuario-clicado",e.dataset.usuario)}))}))}window.addEventListener("load",(async e=>{e.preventDefault();const a=await fetch(API_URL);show_cards(await a.json());navegar_perfil(document.querySelectorAll(".feed_card"));const t=document.querySelectorAll(".btn_receita"),s=document.querySelector("#modal_receita"),n=document.querySelector("#texto_receita");t.forEach((e=>{e.addEventListener("click",(async a=>{const t=await fetch(`${API_URL_RECEITA}/${e.dataset.postagem}`);let s=(await t.json())[0].receita;s||(s="Esta postagem nÃ£o possui uma receita."),n.innerText=s}))})),s&&(t.forEach((e=>{e.onclick=()=>{s.style.display="flex"}})),btn_modal_receita.onclick=()=>{s.style.display="none"})}));